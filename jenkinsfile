pipeline {
	agent none 
		
	environment {
		EMAIL_RECIPIENTS = 'joao.severo@acad.pucrs,arthur.bueno@acad.pucrs.br'
	}
		
	stages {
		stage ('Checkout') {
			agent any
			steps {
				deleteDir()	
				checkout scm
			}
		}
		stage('Build with unit testing - Windows') {
			agent {
				label 'windows'
			}
			steps {
				//script {
					bat("mvn clean package")
					//def pom = readMavenPom file: 'pom.xml'
					// print pom.version
				//}
			}
		}
		stage('Build with unit testing - Linux') {
			agent {
				label 'linux'
			}
			steps {
				sh 'mvn clean package'
			}
		}
	}
}
		
